<div class="container-profile">
    <div class="profile-card">
        <div class="profile-header">
            <h2>Cambiar Contraseña</h2>
            <button mat-icon-button (click)="onCancel()" class="logout-button">
                <mat-icon>close</mat-icon>
            </button>
        </div>

        <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()" class="profile-form">
            <div class="form-group">
                <label class="form-label">Contraseña actual *</label>
                <mat-form-field appearance="outline" floatLabel="always">
                    <input matInput type="password" formControlName="currentPassword" placeholder="Ingrese su contraseña actual">
                    <mat-error *ngIf="changePasswordForm.get('currentPassword')?.hasError('required')">
                        La contraseña actual es requerida
                    </mat-error>
                    <mat-error *ngIf="changePasswordForm.get('currentPassword')?.hasError('minlength')">
                        La contraseña debe tener al menos 6 caracteres
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="form-group">
                <label class="form-label">Nueva contraseña *</label>
                <mat-form-field appearance="outline" floatLabel="always">
                    <input matInput type="password" formControlName="newPassword" placeholder="Ingrese su nueva contraseña">
                    <mat-error *ngIf="changePasswordForm.get('newPassword')?.hasError('required')">
                        La nueva contraseña es requerida
                    </mat-error>
                    <mat-error *ngIf="changePasswordForm.get('newPassword')?.hasError('minlength')">
                        La contraseña debe tener al menos 6 caracteres
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="form-group">
                <label class="form-label">Confirmar nueva contraseña *</label>
                <mat-form-field appearance="outline" floatLabel="always">
                    <input matInput type="password" formControlName="confirmPassword" placeholder="Confirme su nueva contraseña">
                    <mat-error *ngIf="changePasswordForm.get('confirmPassword')?.hasError('required')">
                        La confirmación de contraseña es requerida
                    </mat-error>
                    <mat-error *ngIf="changePasswordForm.get('confirmPassword')?.hasError('passwordMismatch')">
                        Las contraseñas no coinciden
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="form-actions">
                <button mat-raised-button color="primary" type="submit" [disabled]="changePasswordForm.invalid || isLoading">
                    {{ isLoading ? 'Guardando...' : 'Cambiar contraseña' }}
                </button>
                <button mat-button type="button" (click)="onCancel()">
                    Cancelar
                </button>
            </div>
        </form>
    </div>
</div> 