<!DOCTYPE html>
<html lang="es">
<head>
</head>
<body>
    <div class="container-register">
        <div class="contenedor">
            <div class="card">
                <div class="card-body">
                    <div class="container">
                        <img src="assets/images/logoVino.png" alt="Logo FinanTrack" width="80" height="80" loading="lazy">
                        <h4>FinanTrack</h4>
                    </div>
                    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
                        <input 
                            type="email" 
                            placeholder="Ingrese su correo electrónico" 
                            class="input-form"
                            formControlName="email"
                            autocomplete="email"
                            [class.is-invalid]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
                        <div class="error-message" *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
                            <span *ngIf="registerForm.get('email')?.errors?.['required']">El correo electrónico es requerido</span>
                            <span *ngIf="registerForm.get('email')?.errors?.['email']">Ingrese un correo electrónico válido</span>
                        </div>

                        <input 
                            [type]="hidePassword ? 'password' : 'text'"
                            placeholder="Ingrese su contraseña" 
                            class="input-form"
                            formControlName="password"
                            autocomplete="new-password"
                            [class.is-invalid]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
                        <div class="error-message" *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
                            <span *ngIf="registerForm.get('password')?.errors?.['required']">La contraseña es requerida</span>
                            <span *ngIf="registerForm.get('password')?.errors?.['minlength']">La contraseña debe tener al menos 6 caracteres</span>
                        </div>

                        <input 
                            [type]="hideConfirmPassword ? 'password' : 'text'"
                            placeholder="Confirme su contraseña" 
                            class="input-form"
                            formControlName="confirmPassword"
                            autocomplete="new-password"
                            [class.is-invalid]="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched">
                        <div class="error-message" *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched">
                            <span *ngIf="registerForm.get('confirmPassword')?.errors?.['required']">La confirmación de contraseña es requerida</span>
                            <span *ngIf="registerForm.get('confirmPassword')?.errors?.['passwordMismatch']">Las contraseñas no coinciden</span>
                        </div>

                        <div class="contButton">
                            <button type="submit" [disabled]="registerForm.invalid || registerForm.disabled">
                                {{ registerForm.disabled ? 'Registrando...' : 'Registrarse' }}
                            </button>
                            <a [routerLink]="['/login']">¿Ya tienes una cuenta? Inicia sesión</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div>
            <h1>Únete a FinanTrack</h1>
            <img src="assets/images/imagenBienvenidos.jpg" alt="Bienvenidos a FinanTrack" class="img-bienvenidos" loading="lazy">
        </div>
    </div>
</body>
</html>